<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>vexos project</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="icon" href="logo.png" format="image/png">
  <style>
    @font-face {
      font-family: "iransans";
      src: url(ir.ttf);
    }
    * { box-sizing: border-box; font-family: "iransans"; }
    body {
      margin: 0; padding: 0;
      background: #f5f5f5; color: #333;
      display: flex; justify-content: center; align-items: center;
      min-height: 100vh;
      overflow-x: hidden;
      transition: background-color 0.5s ease;
      background-repeat: repeat;
    }
    body.dark {
      background: #222; color: #ddd;
    }

    .card {
      background: #fff;
      border-radius: 28px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.1);
      padding: 40px 60px;
      max-width: 620px;
      width: 90vw;
      text-align: center;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark .card {
      background: #333;
      box-shadow: 0 12px 30px rgba(255,255,255,0.1);
    }

    .profile-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: row;
      gap: 20px;
      margin-bottom: 25px;
      transition: all 0.5s ease;
    }
    .profile-wrapper.ltr { flex-direction: row; }
    .profile-wrapper.rtl { flex-direction: row-reverse; }

    .avatar {
      width: 100px; height: 100px;
      border-radius: 50%;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      transition: transform 0.5s ease, box-shadow 0.5s ease;
    }
    body.dark .avatar {
      box-shadow: 0 8px 20px rgba(255,255,255,0.2);
    }

    .profile-text {
      text-align: start;
    }
    h2 {
      margin: 0;
      font-weight: 700;
      font-size: 1.8rem;
      transition: color 0.5s ease;
    }
    .subtitle {
      font-weight: 500;
      font-size: 1rem;
      color: #666;
      transition: color 0.5s ease;
    }
    body.dark .subtitle {
      color: #bbb;
    }

    .desc {
      font-weight: 400;
      font-size: 1rem;
      line-height: 1.7;
      color: #444;
      margin: 30px 0;
      transition: color 0.5s ease;
    }
    body.dark .desc {
      color: #ddd;
    }

    .socials {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 30px;
    }
    .socials a {
      font-size: 30px;
      color: #777;
      opacity: 0;
      transform: translateY(20px);
      transition: color 0.3s ease, transform 0.3s ease;
    }
    .socials a:hover {
      color: #444;
      transform: scale(1.2) rotate(-3deg);
    }
    body.dark .socials a { color: #bbb; }
    body.dark .socials a:hover { color: #eee; }

    .footer {
      font-size: 14px;
      color: #999;
    }
    body.dark .footer {
      color: #ccc;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      margin-bottom: 30px;
    }

    .btn {
      background: #777;
      color: white;
      padding: 12px 28px;
      border-radius: 24px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .btn:hover {
      background: #555;
      transform: scale(1.05);
    }

    .btn.pulse {
      animation: pulseGlow 2.5s infinite ease-in-out;
    }
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 8px rgba(119, 119, 119, 0.7); }
      50% { box-shadow: 0 0 18px rgba(119, 119, 119, 1); }
    }

    select#langSelect {
      padding: 10px 20px;
      border-radius: 24px;
      border: 2px solid #777;
      font-weight: 600;
      cursor: pointer;
      font-family: "iransans";
    }
    body.dark select#langSelect {
      background: #222;
      border-color: #bbb;
      color: #ddd;
    }

    @media (max-width: 520px) {
      .card { padding: 30px 20px; }
      .controls { flex-direction: column; gap: 15px; }
      .btn, select#langSelect { width: 100%; }
      .profile-wrapper {
        flex-direction: column !important;
        text-align: center;
      }
      .profile-text { text-align: center; }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="controls">
      <button class="btn pulse" id="darkToggle">حالت تاریک غیر فعال است</button>
      <select id="langSelect">
        <option value="fa" selected>فارسی</option>
        <option value="en">English</option>
        <option value="jp">日本語</option>
      </select>
    </div>

    <div class="profile-wrapper rtl" id="profileWrapper">
      <img src="profile.jpg" alt="Amir" class="avatar" id="avatar" />
      <div class="profile-text">
        <h2 id="name">امیر محمد سربازی</h2>
        <div class="subtitle" id="subtitle">دانشجوی ژنتیک | علاقه‌مند به ژن‌ درمانی</div>
      </div>
    </div>

    <div class="desc" id="desc">فعال، باانگیزه، در مسیر یادگیری مداوم.<br />جهت ارتباط از راه های زیر استفاده نمایید.</div>

    <div class="socials" id="socials">
      <a href="https://t.me/amirmohammadsarbazi"><i class="fab fa-telegram"></i></a>
      <a href="https://instagram.com/amirmohammad_sarbazie"><i class="fab fa-instagram"></i></a>
      <a href="mailto:amirmohammadsarbazi1400@gmail.com"><i class="fas fa-envelope"></i></a>
    </div>

    <div class="footer" id="footer">© تمامی حقوق این سایت متعلق به امیر محمد سربازی است.</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script>
    const card = document.getElementById('card');
    const darkToggle = document.getElementById('darkToggle');
    const langSelect = document.getElementById('langSelect');
    const socials = document.querySelectorAll('.socials a');
    const profileWrapper = document.getElementById('profileWrapper');

    const texts = {
      fa: {
        name: 'امیر محمد سربازی',
        subtitle: 'دانشجوی ژنتیک | علاقه‌مند به ژن‌ درمانی',
        desc: 'فعال، باانگیزه، در مسیر یادگیری مداوم.<br />جهت ارتباط از راه های زیر استفاده نمایید.',
        footer: '© تمامی حقوق این سایت متعلق به امیر محمد سربازی است.',
        darkBtnOff: 'حالت تاریک غیر فعال است',
        darkBtnOn: 'حالت تاریک فعال است',
      },
      en: {
        name: 'Amir Mohammad Sarbazi',
        subtitle: 'Genetics Student | Interested in gene therapy',
        desc: 'Motivated, energetic, and always learning.<br />Use the following methods to communicate.',
        footer: '© All rights reserved for Amir Mohammad Sarbazi.',
        darkBtnOff: 'Dark mode is off',
        darkBtnOn: 'Dark mode is on',
      },
      jp: {
        name: 'アミール・モハマド・サルバジ',
        subtitle: '遺伝学の学生 | 遺伝子治療に興味がある',
        desc: 'やる気に満ち、エネルギッシュで、常に学び続けています。<br />以下の方法を使用して通信します。',
        footer: '© すべての権利はアミール・モハマド・サルバジに帰属します',
        darkBtnOff: 'ダークモードはオフです',
        darkBtnOn: 'ダークモードはオンです',
      }
    };

    let darkMode = false;
    let lang = 'fa';

    function togglePulse(on) {
      darkToggle.classList.toggle('pulse', on);
    }

    function animateTextChange(elements, newTextMap) {
      gsap.to(elements, {
        duration: 0.3,
        opacity: 0,
        y: 20,
        stagger: 0.1,
        ease: 'power1.in',
        onComplete: () => {
          elements.forEach(el => {
            const id = el.id;
            if (newTextMap[id]) {
              el.innerHTML = newTextMap[id];
            }
          });
          gsap.to(elements, {
            duration: 0.3,
            opacity: 1,
            y: 0,
            stagger: 0.1,
            ease: 'power1.out',
          });
        },
      });
    }

    function updateTexts() {
      animateTextChange(
        [document.getElementById('name'), document.getElementById('subtitle'), document.getElementById('desc'), document.getElementById('footer')],
        {
          name: texts[lang].name,
          subtitle: texts[lang].subtitle,
          desc: texts[lang].desc,
          footer: texts[lang].footer,
        }
      );
      animateTextChange([darkToggle], {
        darkToggle: darkMode ? texts[lang].darkBtnOn : texts[lang].darkBtnOff,
      });
      togglePulse(darkMode);

      // Update direction
      document.body.dir = lang === 'fa' ? 'rtl' : 'ltr';
      document.documentElement.setAttribute('dir', lang === 'fa' ? 'rtl' : 'ltr');
      profileWrapper.classList.toggle('rtl', lang === 'fa');
      profileWrapper.classList.toggle('ltr', lang !== 'fa');
    }

    function saveSettings() {
      localStorage.setItem('darkMode', darkMode);
      localStorage.setItem('lang', lang);
    }

    function loadSettings() {
      const savedDark = localStorage.getItem('darkMode');
      const savedLang = localStorage.getItem('lang');
      if (savedDark !== null) {
        darkMode = savedDark === 'true';
        document.body.classList.toggle('dark', darkMode);
      }
      if (savedLang !== null) {
        lang = savedLang;
        langSelect.value = lang;
      }
      updateTexts();
    }

    darkToggle.addEventListener('click', () => {
      darkMode = !darkMode;
      document.body.classList.toggle('dark', darkMode);
      updateTexts();
      saveSettings();
    });

    langSelect.addEventListener('change', () => {
      lang = langSelect.value;
      updateTexts();
      saveSettings();
    });

    gsap.fromTo(card, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 1, ease: 'power3.out' });
    socials.forEach((icon, i) => {
      gsap.to(icon, { opacity: 1, y: 0, delay: 0.5 + i * 0.15, duration: 0.6, ease: 'power2.out' });
    });

    gsap.to('#avatar', { y: -8, duration: 2.5, ease: 'sine.inOut', yoyo: true, repeat: -1 });
    gsap.to('#avatar', { rotation: 1.2, duration: 3.5, ease: 'sine.inOut', yoyo: true, repeat: -1, delay: 0.2 });

    loadSettings();
  </script>
</body>
</html>
